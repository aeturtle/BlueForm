<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Blue Form â€” Fill Up Form</title>
<style>
  :root{
    --bg:#bcd6ea;
    --panel:#cfe7f6;
    --accent:#0b66a6;
    --text:#0b2f3f;
    --muted:#5a6c76;
    --shadow:0 6px 18px rgba(11,38,56,.08);
    font-family: "Segoe UI", Roboto, Arial, sans-serif;
  }
  html,body{margin:0;height:100%;background:var(--bg);color:var(--text);}
  .container{max-width:820px;margin:28px auto;padding:22px;}
  .card{background:linear-gradient(#dff2ff,var(--panel));border-radius:12px;
        padding:26px;box-shadow:var(--shadow);border:1px solid rgba(10,80,120,.06);}
  .logo{width:110px;height:110px;margin:0 auto 10px;display:block;object-fit:contain;background:#fff;border-radius:8px;padding:10px;}
  h1{text-align:center;margin:6px 0 18px;font-size:26px;color:var(--accent);}
  .checkboxes{display:flex;gap:28px;align-items:center;margin:10px 0 20px;}
  .row{display:flex;gap:18px;flex-wrap:wrap;}
  .col{flex:1 1 300px;min-width:220px;}
  label{display:block;font-weight:600;margin-bottom:6px;color:var(--muted);}
  input[type="text"],input[type="tel"],input[type="datetime-local"],
  input[type="date"],textarea{
    width:100%;padding:9px 10px;border:1px solid rgba(10,40,60,.12);
    border-radius:6px;font-size:14px;box-sizing:border-box;background:#fff;
  }
  textarea{min-height:44px;resize:vertical;}
  .divider{height:1px;background:rgba(10,40,60,.06);margin:18px 0;border-radius:2px;}
  .grid{display:grid;grid-template-columns:1fr 220px;gap:14px;}
  .btn-row{display:flex;gap:12px;flex-wrap:wrap;margin-top:16px;justify-content:flex-end;}
  button{padding:10px 14px;border-radius:8px;border:none;font-weight:700;cursor:pointer;}
  .btn-primary{background:var(--accent);color:#fff;box-shadow:0 6px 14px rgba(11,102,170,.12);}
  .btn-secondary{background:#fff;border:1px solid rgba(10,40,60,.08);color:var(--text);}
  .small{font-size:13px;color:var(--muted);}
  @media(max-width:600px){.grid{grid-template-columns:1fr}h1{font-size:20px}.logo{width:92px;height:92px}}
</style>
</head>
<body>
<div class="container">
  <div class="card">
    <img class="logo" src="https://upload.wikimedia.org/wikipedia/en/3/3b/UE_Red_Warriors_seal.png" alt="Logo">
    <h1>FILL UP FORM</h1>

    <div class="checkboxes">
      <label><input id="oneway" type="checkbox"> One way exit</label>
      <label><input id="reentry" type="checkbox"> Exit and re-entry</label>
    </div>

    <div class="row">
      <div class="col">
        <label>Parent's name</label>
        <input id="parentName" type="text" placeholder="Parent or guardian name">
        <label style="margin-top:12px">Parent's contact No.</label>
        <input id="parentContact" type="tel" placeholder="09XXXXXXXXX">
        <label style="margin-top:12px">Give an explanation and an excuse to return home</label>
        <textarea id="explain" placeholder="Short explanation / reason"></textarea>
      </div>

      <div class="col">
        <div class="divider"></div>
        <div class="grid">
          <div>
            <label>Name</label>
            <input id="studentName" type="text">
            <label style="margin-top:10px">Section</label>
            <input id="section" type="text">
            <label style="margin-top:10px">Student Number</label>
            <input id="studentNo" type="text">
          </div>
          <div>
            <label>Date</label>
            <input id="date" type="date">
            <label style="margin-top:10px">Time of exit</label>
            <input id="exitTime" type="datetime-local">
            <label style="margin-top:10px">Time of re-entry</label>
            <input id="reentryTime" type="datetime-local">
          </div>
        </div>
        <label style="margin-top:10px">Guard / Approver ID</label>
        <input id="guardId" type="text">
      </div>
    </div>

    <div class="btn-row">
      <button id="clearBtn" class="btn-secondary" type="button">Clear</button>
      <button id="submitExit" class="btn-primary" type="button">Log Exit</button>
      <button id="submitReentry" class="btn-primary" type="button">Log Re-Entry</button>
    </div>

    <p class="small" style="margin-top:12px">
      Data will be saved to Google Sheets using your Apps Script endpoint.
    </p>
  </div>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzO92W6EtjwH0vDU17jmL9azqYhZ6RTFq6f27Hrpc2j9Mw0xgmXrQeaUiV38FQ_VjOPrw/exec";

// auto-fill date with today
(function(){
  const t=new Date();
  const yyyy=t.getFullYear(), mm=String(t.getMonth()+1).padStart(2,'0'), dd=String(t.getDate()).padStart(2,'0');
  document.getElementById('date').value=`${yyyy}-${mm}-${dd}`;
})();

// ensure only one checkbox
oneway.addEventListener('change',()=>{ if(oneway.checked) reentry.checked=false; });
reentry.addEventListener('change',()=>{ if(reentry.checked) oneway.checked=false; });

function sendForm(type){
  const payload={
    studentName:studentName.value,
    section:section.value,
    studentNo:studentNo.value,
    reason:explain.value,
    parentName:parentName.value,
    parentContact:parentContact.value,
    exitType:type,
    exitTime:exitTime.value,
    reentryTime:reentryTime.value,
    guardId:guardId.value
  };
  fetch(SCRIPT_URL,{
    method:"POST",
    body:JSON.stringify(payload),
    headers:{"Content-Type":"application/json"}
  })
  .then(r=>r.json())
  .then(d=>alert("Saved! Row #"+d.row))
  .catch(e=>alert("Error: "+e));
}

submitExit.addEventListener('click',()=>sendForm("exit"));
submitReentry.addEventListener('click',()=>sendForm("reentry"));
clearBtn.addEventListener('click',()=>{
  document.querySelectorAll('input[type=text],input[type=tel],textarea').forEach(i=>i.value='');
  exitTime.value=''; reentryTime.value=''; oneway.checked=false; reentry.checked=false;
});
</script>
</body>

</html>

